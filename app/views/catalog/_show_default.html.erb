<% doc_presenter = show_presenter(document) %>
<%# default partial to display solr document fields in catalog show view %>
<div class="record-page-wrapper d-md-flex flex-sm-column flex-md-row">
  <% unless controller_name == "databases" %>
    <div class="record-view thumbnail col-sm-12 col-md-2"
      <%= isbn_data_attribute(document) %> >
      <%= image_tag "", :alt => "Book cover for " + document["title_statement_display"].to_s, :class => "book_cover invisible" %>
      <%= image_tag default_cover_image(document), :class => "default", :alt => "default cover image" %>
    </div>
  <% end %>

  <div class="show_page_records">
    <dl class="row document-metadata mb-0 show-page-list">
      <% document_show_fields(document).each do |field_name, field| %>
        <% if should_render_show_field? document, field %>
          <dt class="blacklight-<%= field_name.parameterize %> index-label col-xs-12 col-sm-3"><%= render_document_show_field_label document, field: field_name %></dt>
          <% if document[field_name]&.length == 1 || !document[field_name]&.is_a?(Array) %>
                <% valdir = Array(document[field_name]).first %>
                <% if doc_presenter.configuration.show_fields.fetch(field_name)[:helper_method] %>
                  <% value = doc_presenter.field_value field %>
                <% else %>
                  <% value = document[field_name] %>
                <% end %>
                <dd class="blacklight-<%= field_name.parameterize %> col-xs-12 col-sm-9"><%= safe_join(Array.wrap(value)) %></dd>
              <% else %>
                <% valdirs = [] %>
                <% document[field_name].each do |value| %>
                   <% valdirs << value %>
                <% end %>

                <dd class="blacklight-<%= field_name.parameterize %> col-xs-12 col-sm-9">
                  <ul>
                  <% if doc_presenter.configuration.show_fields.fetch(field_name)[:helper_method] %>
                    <% values = Array.wrap(doc_presenter.field_value field) %>
                  <% else %>
                    <% values = document[field_name] %>
                  <% end %>
                  <% values.each do |value| %>
                    <li class="list_items"> <%= safe_join(Array.wrap(value)) %> </li>
                  <% end %>
                  </ul>
                </dd>
              <% end %>
        <% end -%>
      <% end -%>
    </dl>
  </div>
</div>
  <%= render "show_availability_section", :document => @document %>
  <%= render "staff_view_link" %>
