<search>
  <% facet_group_names.each do |groupname| %>
    <% fields = facet_fields_in_group(groupname) %>
    <%= render group_component_class.new(id: groupname, fields:, response:) do |component| %>
      <% component.with_body do %>
        <%= render Blacklight::FacetComponent.with_collection(fields, response:) %>
      <% end %>
    <% end %>
  <% end %>
  <%= render tweak_component %>
</search>
